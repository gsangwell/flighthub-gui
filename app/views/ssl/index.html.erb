<% content_for(:title) { 'SSL Management' } %>

<div class="row center mt-3" style="width: 90%;">
  <div class="col" style="min-width: 50%;"> 
    <div class="card d-flex center">
      <h5 class="card-header">Generate CSR</h5>
      <div class="card-body">
      <div class="row">
        <div class="mx-4 mb-2">Create a certificate signing request (CSR) for a site administrator to issue a SSL certificate for the appliance frontend.</div>
      </div> 
      <%= form_for :csr, as: :post, url: ssl_csr_path, html: { class: 'styled-form text-center w-100' } do |f| %>
        <div class="row mb-1">
          <div class="col-sm-4 form-label mt-1">
            <%= f.label :cname, 'Fully Qualified Domain Name:' %>
          </div>
          <div class="col-sm-8">
            <%= f.text_field :cname, class: 'form-control', required: true %>
          </div>
        </div>
        <div class="row mb-1">
          <div class="col-sm-4 form-label mt-1">
            <%= f.label :org, 'Organisation:' %>
          </div>
          <div class="col-sm-8">
            <%= f.text_field :org, class: 'form-control', required: true %>
          </div>
        </div>
        <div class="row mb-1">
          <div class="col-sm-4 form-label mt-1">
            <%= f.label :country, 'Country (2 letter code):' %>
          </div>
          <div class="col-sm-8">
            <%= f.text_field :country, class: 'form-control', required: true %>
          </div>
        </div>
        <%= f.submit "Generate", disable_with: 'Generating...', class: 'btn btn-primary center mt-3' %>
      <% end %>
      </div>
    </div>
  </div>
  <div class="col">
    <div class="card d-flex center">
      <h5 class="card-header">Upload Certificate</h5>
      <div class="card-body">
      <div class="row">
        <div class="mx-4 mb-2">Upload a new SSL certificate to use for the appliance front end.</div>
      </div>
        <%= form_for :cert, as: :post, url: ssl_cert_path, html: { class: 'styled-form text-center w-100' } do |f| %>
        <div class="row mb-1">
          <div class="col-sm-2 form-label mt-1">
            <%= f.label :content, 'Certificate:' %>
          </div>
          <div class="col-sm-10">
            <%= f.text_area :content, class: 'form-control', required: true, style: 'min-height: 350px' %>
          </div>
        </div>
        <%= f.submit "Upload", disable_with: 'Uploading...', class: 'btn btn-primary center mt-3' %>
        <% end %>
      </div>
    </div>
  </div>
</div>
